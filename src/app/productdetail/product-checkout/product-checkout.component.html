<div class="container">
    <div class="checkout-section">
        <div class="checkout-heading">
            <h1>Checkout </h1>
        </div>
        <div class="checkout-body">
            <div class="billing-detail">
                <div class="card">
                    <div class="dropdown-address">
                        <h3>Billing Details</h3>
                        <div *ngIf="showDropdowm">
                            <div class="dropdown">
                                <button class="btn border dropdown-toggle" type="button" id="dropdownMenuButton1"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    Choose another address
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                                    <li *ngFor="let item of [].constructor(getAllUserAddresses.length); let i = index">
                                        <div class="form-check">
                                            <input class="form-check-input" (click)="getRadioButtonValue(i)"
                                                type="radio" name="flexRadioDefault" id="flexRadioDefault1" #radioValue>
                                            <label class="form-check-label" for="flexRadioDefault1">
                                                Address {{i+1}}
                                            </label>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <app-billing-form [CheckoutProduct]=CheckoutProduct [formShimmer]="formShimmer" (FormFillUp)="fillformevent($event)"></app-billing-form>
                </div>
            </div>
            <div class="your_order" *ngIf="checkoutShimmer">
                <div class="card">
                    <h3>Your Order</h3>
                    <div class="checkout-product-heading m-4">
                        <ng-container *ngFor="let data of [].constructor(3)">
                            <ngx-shimmer-loading width="'100%'" ></ngx-shimmer-loading>
                        </ng-container>
                        <div class="bank-detail">
                            <div class="card my-3">
                                <ngx-shimmer-loading width="'100%'"></ngx-shimmer-loading>
                                <ngx-shimmer-loading width="'100%'"></ngx-shimmer-loading>
                                <ngx-shimmer-loading width="'100%'"></ngx-shimmer-loading>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="your-order" *ngIf="!checkoutShimmer">
                <div class="card">
                    <h3>Your Order</h3>
                    <div class="checkout-product-heading">
                        <ul>
                            <li>Product</li>
                            <li>Total</li>
                        </ul>
                    </div>
                    <ng-container *ngFor="let cart of CheckoutProduct">
                        <div class="checkout-products">
                            <ul *ngFor="let data of cart.carts">
                                <li>{{data.product.name}} X {{data.quantity}}</li>
                                <li>${{data.product.sale_price *data.quantity }}</li>
                            </ul>
                        </div>
                        <div class="checkout-products-subtotal">
                            <ul>
                                <li class="subtotal-list-element">Subtotal</li>
                                <li>${{cart.payable | number : '1.2-2'}}</li>
                            </ul>
                            <ul>
                                <li class="subtotal-list-element">Shipping</li>
                                <li>${{shippingCharge}}</li>
                            </ul>
                            <ul *ngIf="discountCheck">
                                <li class="subtotal-list-element"></li>
                                <li><button (click)="couponButton()">Apply Coupon</button></li>
                            </ul>
                            <ul *ngIf="couponCheck">
                                <li class="subtotal-list-element">Coupon Discount</li>
                                <li>-${{couponDiscount}}</li>
                            </ul>
                        </div>
                        <div class="checkout-products-total">
                            <ul>
                                <li class="subtotal-list-element"><b>Total</b></li>
                                <li><b>${{cart.payable -- shippingCharge - couponDiscount | number : '1.2-2'}}</b></li>
                            </ul>
                        </div>
                    </ng-container>
                    <div class="bank-detail">
                        <div class="card mx-1">
                            <h6>Direct bank transfer</h6>
                            <p class="m-0">Make your payment directly into our bank account. Please use your Order ID as
                                the payment
                                reference. Your order will not be shipped until the funds have cleared in our account.
                            </p>
                            <div class="field-radiobutton mt-3" (click)="checkPaymentTab()">
                                <p-radioButton name="payment_method" value="check-payment"
                                    [(ngModel)]="selectedPaymentMethod" inputId="payment_method">
                                </p-radioButton>
                                <label for="payment_method" class="mx-2"><b>Check payments</b></label>
                            </div>
                            <div class="field-radiobutton mt-3" (click)="checkPaymentTab()">
                                <p-radioButton name="payment_method1" value="cod" [(ngModel)]="selectedPaymentMethod"
                                    inputId="payment_method1">
                                </p-radioButton>
                                <label for="payment_method1" class="mx-2"><b>Cash on Delivery</b></label>
                            </div>
                            <div class="field-radiobutton mt-3" (click)="checkPaymentTab()">
                                <p-radioButton name="payment_method2" value="paypal" [(ngModel)]="selectedPaymentMethod"
                                    inputId="payment_method2">
                                </p-radioButton>
                                <label for="payment_method2" class="mx-2"><b>PayPal</b></label>
                            </div>
                        </div>
                    </div>
                    <div class="paypal-integration" *ngIf="showPaypal">
                        <ngx-paypal [config]="payPalConfig"></ngx-paypal>
                    </div>
                    <div class="place-order my-2 mx-1">
                        <div class="proceed-button">
                            <button pButton pRipple type="button" label="Place Order" routerLink="/thanks"
                                (click)="getOrderInfo()" class="p-button-raised p-button-success"
                                style="height:45px; width: 100%;" [disabled]="paymentCheck || disableOrderButton"></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>