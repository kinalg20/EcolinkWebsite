<div class="dashboard-section" *ngIf="showdesc == 'Dashboard'">
    <h2>Dashboard</h2>
    <div class="profile-card">
        <div class="row" *ngFor="let item of userDetail">
            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="card profile-section">
                    <div class="profile-image">
                        <img src="https://chirpybazaar.com/wp-content/uploads/2019/05/dummy-man-570x570.png" alt="">
                    </div>
                    <div class="profile-desc">
                        <div class="profile-detail my-3">
                            <h4>{{item.name}}</h4>
                            <p class="m-0 p-0">{{item.email}}</p>
                        </div>

                        <div class="edit-profile-button my-2">
                            <button (click)="changeTab()">Edit Profile</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="card address-section">
                    <div class="customer_name my-3">
                        <h4>Add Address</h4>
                        <i (click)="getUserDetail('add')" data-bs-toggle="modal" data-bs-target="#exampleModal"
                            class="pi pi-plus"></i>

                    </div>
                    <div class="default-Address">
                        {{item.address}}, {{item.city}} <br>{{item.state}}, {{item.country}}, {{item.pincode}}
                    </div>
                    <span class="address-label"> Phone Number </span>
                    <span>{{item.mobile}}</span>
                    <span class="address-label">Email Address</span>
                    <span>{{item.email}}</span>
                    <div class="edit-Address-button my-2">
                        <button (click)="changeTab()">Edit Address</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="Edit-Profile-section" *ngIf="showdesc == 'Edit Profile'">
    <h2>Edit Profile</h2>
    <ng-container *ngFor="let item of userDetail">
        <form #editProfileFrom="ngForm" (ngSubmit)="editUserProfile(editProfileFrom)">
            <ng-container *ngIf="resSignupMsg">
                <div class="alert alert-danger" role="alert" id="loginAlert" #alert>
                    {{ resSignupMsg }}
                </div>
            </ng-container>
            <input type="text" name="id" [(ngModel)]="item.id" style="display: none;">
            <div class="row">
                <div class="col-lg-6 col-sm-12 fname">
                    <div>
                        <label for="first-name">First Name</label>
                        <input class="form-control" type="text" id="firstname" autocomplete="off" name="firstname"
                            maxlength='50' [(ngModel)]="item.name" required />
                    </div>
                </div>
                <div class="col-lg-6 col-sm-12 lname">
                    <div>
                        <label for="last-name">Last Name</label>
                        <input class="form-control" type="text" id="lastname" autocomplete="off" maxlength='50'
                            name="lastname" [(ngModel)]="item.name" required />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 col-sm-12">
                    <div>
                        <label for="email">Email</label>
                        <input class="form-control" type="email" id="email" autocomplete="off" name="email"
                            (input)="validateEmail($event)" [(ngModel)]="item.email" required />
                        <h6 class="text-danger" *ngIf="invalidEmail">
                            {{ invalidEmail ? "Invalid Email" : "" }}
                        </h6>
                    </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                    <div>
                        <label for="phone-number">Phone Number</label>
                        <input class="form-control" type="text" id="phonenumber" autocomplete="off" name="phonenumber"
                            maxlength="10" (input)="validateMobile($event)" (keydown)="inputMobile($event)"
                            [(ngModel)]="item.mobile" required />
                        <h6 class="text-danger" *ngIf="invalidMobile">
                            {{ invalidMobile ? "Invalid Mobile" : "" }}
                        </h6>

                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 col-sm-12">
                    <div>
                        <label for="address">Address</label>
                        <input class="form-control" type="text" id="address" autocomplete="off" name="address"
                            [(ngModel)]="item.address" required />
                    </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                    <div>
                        <label for="address">Password</label>
                        <input class="form-control" type="password" id="password" autocomplete="off" name="password"
                            ngModel required />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 col-sm-12">
                    <div>
                        <label for="country">Country</label>
                        <input class="form-control" type="text" id="country" autocomplete="off" name="country"
                            [(ngModel)]="item.country" required />
                    </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                    <div>
                        <label for="state">State</label>
                        <input class="form-control" type="text" id="state" autocomplete="off" name="state"
                            [(ngModel)]="item.state" required />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 col-sm-12">
                    <div>
                        <label for="city">City</label>
                        <input class="form-control" type="text" id="city" autocomplete="off" name="city"
                            [(ngModel)]="item.city" required />
                    </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                    <div>
                        <label for="pincode">Pincode</label>
                        <input class="form-control" type="text" id="pincode" autocomplete="off" name="pincode"
                            [(ngModel)]="item.pincode" required />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 add-user ">
                    <button class="edituserdetail btn btn-success my-3 form-control">Save Address</button>
                </div>
            </div>
        </form>
    </ng-container>
</div>
<div class="Order-History-section" *ngIf="showdesc == 'Order History'">
    <h2>Order History</h2>
    <div class="order-history-header">
        <div class="search-ordered-item">
            <input type="text" pInputText placeholder="Search Ordered Item...." /> <button pButton pRipple type="button"
                label="Search" class="p-button-success"></button>
        </div>
        <!-- <div class="dropdown">
            <a class="" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                All Products<i class="fa fa-filter" style="padding-left: 0.5rem;"></i>
                <i class="fa fa-angle-down mx-2"></i>
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="#">Success</a>
                <hr>
                <a class="dropdown-item" href="#">Cancelled</a>
                <hr>
                <a class="dropdown-item" href="#">Pending</a>
            </div>
        </div> -->
    </div>
    <!-- list-card -->
    <div class="history-list-card">
        <div class="row" *ngIf="show">
            <ng-container *ngFor="let data of orderData.data">
                <div class="col-xl-4 col-md-6 col-sm-6 col-lg-6" *ngFor="let i of data.items">
                    <div class="card">
                        <div class="history-image">
                            <img [src]="i.product.image" class="media-object" />
                        </div>
                        <div class="history-desc">
                            <div class="product-details">
                                <h6 class="head">{{i.product.name}}</h6>
                                <p class="desc"> {{i.product.meta_description}}</p>
                                <div class="history-data">
                                    <p class="qty">Qty: {{i.quantity}}</p>
                                    <span class="price">${{data.total_amount}}</span>
                                </div>
                                <h6 class="status">{{data.order_status}}</h6>
                                <button type="button" (click)="showDeatils(data)" class="more-btn">Show More</button>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
    <!-- detail-card -->
    <div class="history-details-card" *ngIf="!show">
        <div type="" class="back" (click)="show=!show">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path
                    d="M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM384 288H205.3l49.38 49.38c12.5 12.5 12.5 32.75 0 45.25s-32.75 12.5-45.25 0L105.4 278.6C97.4 270.7 96 260.9 96 256c0-4.883 1.391-14.66 9.398-22.65l103.1-103.1c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L205.3 224H384c17.69 0 32 14.33 32 32S401.7 288 384 288z" />
            </svg>
        </div>
        <div class="history-item-card">
            <ng-container *ngFor="let data of orderHistoryDesc">
                <div class="card">
                    <div class="details" *ngFor="let i of data.items">
                        <div class="card-body">
                            <div class="product-image">
                                <img [src]="i.product.image" class="media-object" />
                            </div>
                            <div class="description">
                                <div class="product-details">
                                    <h5 class="head">{{i.product.name}}</h5>
                                    <!-- <span class="pro-desc" [innerHtml]="i.product.description"></span> -->
                                    <span> <strong>Address: </strong> {{data.shipping_address}}, {{data.shipping_city}},
                                        {{data.shipping_state}}, {{data.shipping_country}}</span>
                                    <p class="desc"> {{i.product.meta_description}}</p>
                                    <p class="qty"> <strong>Qty: </strong> {{i.quantity}}</p>
                                    <span class="price"> <strong>Total amount:</strong> ${{data.total_amount}}</span>
                                    <h6> <strong>Ordered on</strong> {{i.created_at | date:'EEEE, MMMM d, y' }}</h6>
                                    <!-- <h5 class="status">{{data.order_status}}</h5> -->
                                </div>
                                <!-- <button type="button" class="return-btn" (click)="storeReturnProduct(i)">Return</button> -->
                                <!-- <div class="date">
                            <p> order by {{data.billing_name}}</p>
                        </div> -->
                            </div>
                        </div>
                        <span class="pro-desc" [innerHtml]="i.product.description"></span>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
    <!-- <div class="return-product-list" *ngIf="showdesc == 'Return Order'">
    order-listing
    <div class="row">
        <ng-container *ngFor="let data of orderData.data">
            <div class="col-xl-4 col-md-6 col-sm-6 col-lg-6">
                <div class="card" *ngFor="let i of data.items">
                    <div class="product-return-image">
                        <img [src]="i.product.image" class="media-object" />
                    </div>
                    <div class="return-desc">
                        <div class="product-details">
                            <h5 class="head">{{i.product.name}}</h5>
                            <p class="desc"> {{i.product.meta_description}}</p>
                            <p class="qty">{{i.quantity}}</p>
                            <span class="price">${{data.total_amount}}</span>
                            <h6 class="status">{{data.order_status}}</h6>
                        </div>
                    </div>
                    <button type="button" class="return-btn">Return</button>
                </div>
            </div>
        </ng-container>
    </div>
    <div class="ordered-item-card">
        <div class="bootdey">
            <div class="panel panel-default panel-order">
                <div class="panel-body">
                    <ng-container *ngFor="let data of orderData.data">
                        <div class="card" *ngFor="let i of data.items">
                            <div class="row">
                                <div class="col-lg-3 col-md-4 col-sm-4">
                                    <div class="product-image">
                                        <img [src]="i.product.image" class="media-object" />
                                    </div>
                                </div>
                                <div class="col-lg-9 col-md-8 col-sm-8">
                                    <div class="product-details">
                                        <h5 class="head">{{i.product.name}}</h5>
                                        <p class="desc"> {{i.product.meta_description}}</p>
                                        <p class="qty">{{i.quantity}}</p>
                                        <span class="price">${{data.total_amount}}</span>
                                        <h6 class="status">{{data.order_status}}</h6>
                                    </div>
                                    <button type="button" class="return-btn"
                                        (click)="getReturnProduct()">Return</button>
                                    <div class="date">
                                        <p> order by {{data.billing_name}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>
    </div>
</div> -->
</div>
<div class="Addresses-section" *ngIf="showdesc == 'Addresses'">
    <div class="adderess-head">
        <h2>Shipping Addresses</h2>
        <p>To select a default shipping address for checkout, click "Set as my default".</p>
    </div>
    <ng-container *ngIf="allUserAddresses.length>0">
        <div class="address-body">
            <div class="address-card" *ngFor="let item of allUserAddresses">
                <div class="address-text">
                    <h4>{{item.name}}</h4>
                    <div class="address">
                        <p>{{item.address}}</p>
                        <p>, {{item.landmark}}</p>
                    </div>
                    <div class="sub-address">
                        <p>{{item.city}}</p>
                        <p>, {{item.state}}</p>
                        <p>({{item.zip}})</p>
                        <p>, {{item.country}}</p>
                    </div>
                    <p>{{item.mobile}}</p>
                    <div class="crud-btn">
                        <p (click)="getUserDetail(item)" data-bs-toggle="modal" data-bs-target="#exampleModal">Edit</p>
                        <p (click)="deleteUserAddress(item.id)">Delete</p>
                        <!-- <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                            aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Delete Address</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        Are you sure, you want to delete this address??
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                                            >Delete</button>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <!-- <p>Set as default</p> -->
                    </div>
                </div>
            </div>
        </div>
        <div class="row addAddress" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="getUserDetail('add')">
            <div class="col-12 addAddressCol">
                <h4 class="m-0">Add Address</h4>
                <i class="pi pi-plus"></i>
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf="!(allUserAddresses.length>0)">
        <div class="row addAddress" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="getUserDetail('add')">
            <div class="col-12 addAddressCol">
                <h4 class="m-0">Add Address</h4>
                <i class="pi pi-plus"></i>
            </div>
        </div>
    </ng-container>
</div>
<div class="Wishlist-section" *ngIf="showdesc == 'Wishlist'">
    <h2>Wishlist</h2>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content" *ngFor="let item of profileAddress">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel">{{item.heading}}</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    (click)="resetValue(signUpForm)"></button>
            </div>
            <div class="modal-body container">
                <form #signUpForm="ngForm" (ngSubmit)="addUserAddress(signUpForm)">
                    <ng-container *ngIf="resSignupMsg">
                        <div class="alert alert-danger" role="alert" id="loginAlert" #alert>
                            {{ resSignupMsg }}
                        </div>
                    </ng-container>
                    <input type="text" name="id" [(ngModel)]="item.id" style="display: none;">
                    <div class="row">
                        <div class="col-6">
                            <div>
                                <label for="first-name">First Name</label>
                                <input class="form-control" type="text" id="firstname" autocomplete="off"
                                    name="firstname" maxlength='50' [(ngModel)]="item.firstname" required />
                            </div>
                        </div>
                        <div class="col-6">
                            <div>
                                <label for="last-name">Last Name</label>
                                <input class="form-control" type="text" id="lastname" autocomplete="off" maxlength='50'
                                    name="lastname" [(ngModel)]="item.lastname" required />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div>
                                <label for="email">Email</label>
                                <input class="form-control" type="email" id="email" autocomplete="off" name="email"
                                    (input)="validateEmail($event)" [(ngModel)]="item.email" required />
                                <h6 class="text-danger" *ngIf="invalidEmail">
                                    {{ invalidEmail ? "Invalid Email" : "" }}
                                </h6>
                            </div>
                        </div>
                        <div class="col-6">
                            <div>
                                <label for="phone-number">Phone Number</label>
                                <input class="form-control" type="text" id="phonenumber" autocomplete="off"
                                    name="phonenumber" maxlength="10" (input)="validateMobile($event)"
                                    (keydown)="inputMobile($event)" [(ngModel)]="item.mobile" required />
                                <h6 class="text-danger" *ngIf="invalidMobile">
                                    {{ invalidMobile ? "Invalid Mobile" : "" }}
                                </h6>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div>
                                <label for="landmark">Landmark</label>
                                <input class="form-control" type="text" id="landmark" autocomplete="off" name="landmark"
                                    [(ngModel)]="item.landmark" required />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div>
                                <label for="address">Address</label>
                                <input class="form-control" type="text" id="address" autocomplete="off" name="address"
                                    [(ngModel)]="item.address" required />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div>
                                <label for="country">Country</label>
                                <input class="form-control" type="text" id="country" autocomplete="off" name="country"
                                    [(ngModel)]="item.country" required />
                            </div>
                        </div>
                        <div class="col-6">
                            <div>
                                <label for="state">State</label>
                                <input class="form-control" type="text" id="state" autocomplete="off" name="state"
                                    [(ngModel)]="item.state" required />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div>
                                <label for="city">City</label>
                                <input class="form-control" type="text" id="city" autocomplete="off" name="city"
                                    [(ngModel)]="item.city" required />
                            </div>
                        </div>
                        <div class="col-6">
                            <div>
                                <label for="pincode">Pincode</label>
                                <input class="form-control" type="text" id="pincode" autocomplete="off" name="pincode"
                                    [(ngModel)]="item.zip" required />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 add-user">
                            <button class="saveuserdetail btn btn-success my-3 form-control"
                                data-bs-dismiss="modal">Save Address</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
